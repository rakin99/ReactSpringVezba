{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dejan\\\\Documents\\\\resources\\\\src\\\\Izvestaji.jsx\";\nimport React from \"react\";\nimport PrikazIzvestaja from \"./PrikazIzvestaja\";\nimport ZaglavljeIzvestaja from \"./ZaglavljeIzvestaja\";\n\nclass Izvestaji extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      izvestaji: [],\n      pocetak: \"\",\n      kraj: \"\",\n      sort: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.ukupnoProjekcija = this.ukupnoProjekcija.bind(this);\n  }\n\n  handleClick() {\n    console.log(\"Handle click\");\n    const config = {\n      headers: new Headers({\n        'Authorization': 'Bearer ' + localStorage.getItem('jwt')\n      }, {\n        'Access-Control-Allow-Methods': 'GET'\n      })\n    };\n    const vremeOd = this.state.pocetak === \"\" ? \"null\" : this.state.pocetak;\n    const vremeDo = this.state.kraj === \"\" ? \"null\" : this.state.kraj;\n    const sort = this.state.sort === \"\" ? \"null\" : this.state.sort;\n    fetch('http://localhost:8080/bioskop/izvestaji/' + vremeOd + \"/\" + vremeDo + \"/\" + sort, config).then(res => res.json()).then(res => {\n      console.log(res);\n      this.setState({\n        izvestaji: res\n      });\n    });\n  }\n\n  handleChange(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  ukupnoProjekcija() {\n    var ukupnoProjekcija = 0;\n    ukupnoProjekcija = this.state.izvestaji.map(i => parseInt(i.brojProjekcija) + parseInt(ukupnoProjekcija));\n    return ukupnoProjekcija;\n  }\n\n  render() {\n    const prikazIzvestaja = this.state.izvestaji.length > 0 && /*#__PURE__*/React.createElement(PrikazIzvestaja, {\n      state: this.state,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 68\n      }\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"izvestaji\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ZaglavljeIzvestaja, {\n      ukupnoProjekcija: this.ukupnoProjekcija,\n      handleChange: this.handleChange,\n      handleClick: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }), prikazIzvestaja);\n  }\n\n}\n\nexport default Izvestaji;","map":{"version":3,"sources":["C:/Users/Dejan/Documents/resources/src/Izvestaji.jsx"],"names":["React","PrikazIzvestaja","ZaglavljeIzvestaja","Izvestaji","Component","constructor","state","izvestaji","pocetak","kraj","sort","handleChange","bind","handleClick","ukupnoProjekcija","console","log","config","headers","Headers","localStorage","getItem","vremeOd","vremeDo","fetch","then","res","json","setState","event","name","value","target","map","i","parseInt","brojProjekcija","render","prikazIzvestaja","length"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,kBAAP,MAA+B,sBAA/B;;AAEA,MAAMC,SAAN,SAAwBH,KAAK,CAACI,SAA9B,CAAuC;AACnCC,EAAAA,WAAW,GAAE;AACT;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,SAAS,EAAC,EADD;AAETC,MAAAA,OAAO,EAAC,EAFC;AAGTC,MAAAA,IAAI,EAAC,EAHI;AAITC,MAAAA,IAAI,EAAC;AAJI,KAAb;AAMA,SAAKC,YAAL,GAAkB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAAlB;AACA,SAAKC,WAAL,GAAiB,KAAKA,WAAL,CAAiBD,IAAjB,CAAsB,IAAtB,CAAjB;AACA,SAAKE,gBAAL,GAAsB,KAAKA,gBAAL,CAAsBF,IAAtB,CAA2B,IAA3B,CAAtB;AACH;;AAEDC,EAAAA,WAAW,GAAE;AACTE,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACA,UAAMC,MAAM,GAAC;AACTC,MAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AAAC,yBAAiB,YAAYC,YAAY,CAACC,OAAb,CAAqB,KAArB;AAA9B,OAAZ,EACa;AAAC,wCAA+B;AAAhC,OADb;AADA,KAAb;AAKA,UAAMC,OAAO,GAAC,KAAKhB,KAAL,CAAWE,OAAX,KAAuB,EAAvB,GAA4B,MAA5B,GAAmC,KAAKF,KAAL,CAAWE,OAA5D;AACA,UAAMe,OAAO,GAAC,KAAKjB,KAAL,CAAWG,IAAX,KAAoB,EAApB,GAAyB,MAAzB,GAAgC,KAAKH,KAAL,CAAWG,IAAzD;AACA,UAAMC,IAAI,GAAC,KAAKJ,KAAL,CAAWI,IAAX,KAAoB,EAApB,GAAyB,MAAzB,GAAgC,KAAKJ,KAAL,CAAWI,IAAtD;AAEAc,IAAAA,KAAK,CAAC,6CAA2CF,OAA3C,GAAmD,GAAnD,GAAuDC,OAAvD,GAA+D,GAA/D,GAAmEb,IAApE,EAAyEO,MAAzE,CAAL,CACCQ,IADD,CACMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADb,EAECF,IAFD,CAEMC,GAAG,IAAI;AACTX,MAAAA,OAAO,CAACC,GAAR,CAAYU,GAAZ;AACA,WAAKE,QAAL,CAAc;AACVrB,QAAAA,SAAS,EAAEmB;AADD,OAAd;AAGH,KAPD;AAQH;;AAEDf,EAAAA,YAAY,CAACkB,KAAD,EAAO;AACf,UAAM;AAACC,MAAAA,IAAD;AAAMC,MAAAA;AAAN,QAAeF,KAAK,CAACG,MAA3B;AACA,SAAKJ,QAAL,CAAc;AACV,OAACE,IAAD,GAAOC;AADG,KAAd;AAGH;;AAEDjB,EAAAA,gBAAgB,GAAE;AACd,QAAIA,gBAAgB,GAAC,CAArB;AACAA,IAAAA,gBAAgB,GAAC,KAAKR,KAAL,CAAWC,SAAX,CAAqB0B,GAArB,CAAyBC,CAAC,IAAIC,QAAQ,CAACD,CAAC,CAACE,cAAH,CAAR,GAA2BD,QAAQ,CAACrB,gBAAD,CAAjE,CAAjB;AACA,WAAOA,gBAAP;AACH;;AAEDuB,EAAAA,MAAM,GAAE;AACJ,UAAMC,eAAe,GAAG,KAAKhC,KAAL,CAAWC,SAAX,CAAqBgC,MAArB,GAA8B,CAA9B,iBAAmC,oBAAC,eAAD;AAAiB,MAAA,KAAK,EAAE,KAAKjC,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA3D;AACA,wBACI;AAAK,MAAA,EAAE,EAAC,WAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,kBAAD;AAAoB,MAAA,gBAAgB,EAAE,KAAKQ,gBAA3C;AAA6D,MAAA,YAAY,EAAE,KAAKH,YAAhF;AAA8F,MAAA,WAAW,EAAE,KAAKE,WAAhH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEKyB,eAFL,CADJ;AAMH;;AAxDkC;;AA2DvC,eAAenC,SAAf","sourcesContent":["import React from \"react\"\r\nimport PrikazIzvestaja from \"./PrikazIzvestaja\"\r\nimport ZaglavljeIzvestaja from \"./ZaglavljeIzvestaja\"\r\n\r\nclass Izvestaji extends React.Component{\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            izvestaji:[],\r\n            pocetak:\"\",\r\n            kraj:\"\",\r\n            sort:\"\"\r\n        }\r\n        this.handleChange=this.handleChange.bind(this)\r\n        this.handleClick=this.handleClick.bind(this)\r\n        this.ukupnoProjekcija=this.ukupnoProjekcija.bind(this)\r\n    }\r\n\r\n    handleClick(){\r\n        console.log(\"Handle click\")\r\n        const config={\r\n            headers: new Headers({'Authorization': 'Bearer ' + localStorage.getItem('jwt')},\r\n                                  {'Access-Control-Allow-Methods':'GET'}),\r\n          };\r\n        \r\n        const vremeOd=this.state.pocetak === \"\" ? \"null\":this.state.pocetak;\r\n        const vremeDo=this.state.kraj === \"\" ? \"null\":this.state.kraj;\r\n        const sort=this.state.sort === \"\" ? \"null\":this.state.sort;\r\n\r\n        fetch('http://localhost:8080/bioskop/izvestaji/'+vremeOd+\"/\"+vremeDo+\"/\"+sort,config)\r\n        .then(res => res.json())\r\n        .then(res => {\r\n            console.log(res)\r\n            this.setState({\r\n                izvestaji: res\r\n            })\r\n        })\r\n    }\r\n\r\n    handleChange(event){\r\n        const {name,value} = event.target\r\n        this.setState({\r\n            [name]:value\r\n        })\r\n    }\r\n\r\n    ukupnoProjekcija(){\r\n        var ukupnoProjekcija=0;\r\n        ukupnoProjekcija=this.state.izvestaji.map(i => parseInt(i.brojProjekcija)+parseInt(ukupnoProjekcija))\r\n        return ukupnoProjekcija\r\n    }\r\n\r\n    render(){\r\n        const prikazIzvestaja = this.state.izvestaji.length > 0 && <PrikazIzvestaja state={this.state} />\r\n        return(\r\n            <div id=\"izvestaji\">\r\n                <ZaglavljeIzvestaja ukupnoProjekcija={this.ukupnoProjekcija} handleChange={this.handleChange} handleClick={this.handleClick} />\r\n                {prikazIzvestaja}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Izvestaji"]},"metadata":{},"sourceType":"module"}