{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dejan\\\\Documents\\\\resources\\\\src\\\\Izvestaji.jsx\";\nimport React from \"react\";\nimport PrikazIzvestaja from \"./PrikazIzvestaja\";\nimport ZaglavljeIzvestaja from \"./ZaglavljeIzvestaja\";\nimport $ from \"jquery\";\n\nclass Izvestaji extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      izvestaji: [],\n      pocetak: \"\",\n      kraj: \"\",\n      sort: \"\",\n      ukupnoProjekcija: \"\",\n      ukupnoKarata: \"\",\n      ukupnoCena: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleChangeSort = this.handleChangeSort.bind(this);\n  }\n\n  handleClick() {\n    console.log(\"Handle click\");\n    const config = {\n      headers: new Headers({\n        'Authorization': 'Bearer ' + localStorage.getItem('jwt')\n      }, {\n        'Access-Control-Allow-Methods': 'GET'\n      })\n    };\n    const vremeOd = this.state.pocetak === \"\" ? \"null\" : this.state.pocetak;\n    const vremeDo = this.state.kraj === \"\" ? \"null\" : this.state.kraj;\n    const sort = this.state.sort === \"\" ? \"null\" : this.state.sort;\n    fetch('http://localhost:8080/bioskop/izvestaji/' + vremeOd + \"/\" + vremeDo + \"/\" + sort, config).then(res => res.json()).then(res => {\n      console.log(res);\n      var ukupnoProjekcija = 0;\n      var ukupnoKarata = 0;\n      var ukupnoCena = 0;\n      res.map(i => {\n        ukupnoProjekcija = i.brojProjekcija + ukupnoProjekcija;\n        ukupnoKarata = i.brojProdatihKarata + ukupnoKarata;\n        ukupnoCena = i.ukupnaCena + ukupnoCena;\n      });\n      this.setState({\n        izvestaji: res,\n        ukupnoProjekcija: ukupnoProjekcija,\n        ukupnoKarata: ukupnoKarata,\n        ukupnoCena: ukupnoCena\n      });\n    });\n  }\n\n  handleChange(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleChangeSort() {\n    const config = {\n      headers: new Headers({\n        'Authorization': 'Bearer ' + localStorage.getItem('jwt')\n      }, {\n        'Access-Control-Allow-Methods': 'GET'\n      })\n    };\n    const vremeOd = this.state.pocetak === \"\" ? \"null\" : this.state.pocetak;\n    const vremeDo = this.state.kraj === \"\" ? \"null\" : this.state.kraj;\n    const sort = $('#idSortIzvestaji').val() === \"\" ? \"null\" : $('#idSortIzvestaji').val();\n    fetch('http://localhost:8080/bioskop/izvestaji/' + vremeOd + \"/\" + vremeDo + \"/\" + sort, config).then(res => res.json()).then(res => {\n      console.log(res);\n      var ukupnoProjekcija = 0;\n      var ukupnoKarata = 0;\n      var ukupnoCena = 0;\n      res.map(i => {\n        ukupnoProjekcija = i.brojProjekcija + ukupnoProjekcija;\n        ukupnoKarata = i.brojProdatihKarata + ukupnoKarata;\n        ukupnoCena = i.ukupnaCena + ukupnoCena;\n      });\n      this.setState({\n        izvestaji: res,\n        ukupnoProjekcija: ukupnoProjekcija,\n        ukupnoKarata: ukupnoKarata,\n        ukupnoCena: ukupnoCena\n      });\n    });\n  }\n\n  render() {\n    const prikazIzvestaja = this.state.izvestaji.length > 0 && /*#__PURE__*/React.createElement(PrikazIzvestaja, {\n      state: this.state,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 68\n      }\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"izvestaji\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ZaglavljeIzvestaja, {\n      handleChange: this.handleChange,\n      handleClick: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }, \"Sortiraj po:\", /*#__PURE__*/React.createElement(\"select\", {\n      id: \"idSortIzvestaji\",\n      onChange: this.handleChangeSort,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"brProjekcija-asc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 33\n      }\n    }, \"Broju projekcija, rastuce\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"brProjekcija-desc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 33\n      }\n    }, \"Broju projekcija, opadajuce\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"brProdatihKarata-asc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 33\n      }\n    }, \"Broju prodatih karata, rastuce\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"brProdatihKarata-desc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 33\n      }\n    }, \"Broju prodatih karata, opadajuce\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"ukupnaCenaProdatihKarata-asc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 33\n      }\n    }, \"Ukupnoj ceni, rastuce\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"ukupnaCenaProdatihKarata-desc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 33\n      }\n    }, \"Ukupnoj ceni, opadajuce\"))), prikazIzvestaja);\n  }\n\n}\n\nexport default Izvestaji;","map":{"version":3,"sources":["C:/Users/Dejan/Documents/resources/src/Izvestaji.jsx"],"names":["React","PrikazIzvestaja","ZaglavljeIzvestaja","$","Izvestaji","Component","constructor","state","izvestaji","pocetak","kraj","sort","ukupnoProjekcija","ukupnoKarata","ukupnoCena","handleChange","bind","handleClick","handleChangeSort","console","log","config","headers","Headers","localStorage","getItem","vremeOd","vremeDo","fetch","then","res","json","map","i","brojProjekcija","brojProdatihKarata","ukupnaCena","setState","event","name","value","target","val","render","prikazIzvestaja","length"],"mappings":"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","sourcesContent":["import React from \"react\"\r\nimport PrikazIzvestaja from \"./PrikazIzvestaja\"\r\nimport ZaglavljeIzvestaja from \"./ZaglavljeIzvestaja\"\r\nimport $ from \"jquery\"\r\n\r\nclass Izvestaji extends React.Component{\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            izvestaji:[],\r\n            pocetak:\"\",\r\n            kraj:\"\",\r\n            sort:\"\",\r\n            ukupnoProjekcija:\"\",\r\n            ukupnoKarata:\"\",\r\n            ukupnoCena:\"\"\r\n        }\r\n        this.handleChange=this.handleChange.bind(this)\r\n        this.handleClick=this.handleClick.bind(this)\r\n        this.handleChangeSort=this.handleChangeSort.bind(this)\r\n    }\r\n\r\n    handleClick(){\r\n        console.log(\"Handle click\")\r\n        const config={\r\n            headers: new Headers({'Authorization': 'Bearer ' + localStorage.getItem('jwt')},\r\n                                  {'Access-Control-Allow-Methods':'GET'}),\r\n          };\r\n        \r\n        const vremeOd=this.state.pocetak === \"\" ? \"null\":this.state.pocetak;\r\n        const vremeDo=this.state.kraj === \"\" ? \"null\":this.state.kraj;\r\n        const sort=this.state.sort === \"\" ? \"null\":this.state.sort;\r\n\r\n        fetch('http://localhost:8080/bioskop/izvestaji/'+vremeOd+\"/\"+vremeDo+\"/\"+sort,config)\r\n        .then(res => res.json())\r\n        .then(res => {\r\n            console.log(res)\r\n            var ukupnoProjekcija=0;\r\n            var ukupnoKarata=0;\r\n            var ukupnoCena=0;\r\n            res.map(i => {\r\n                ukupnoProjekcija = i.brojProjekcija+ukupnoProjekcija\r\n                ukupnoKarata = i.brojProdatihKarata+ukupnoKarata\r\n                ukupnoCena = i.ukupnaCena+ukupnoCena\r\n                \r\n            })\r\n            this.setState({\r\n                izvestaji: res,\r\n                ukupnoProjekcija:ukupnoProjekcija,\r\n                ukupnoKarata:ukupnoKarata,\r\n                ukupnoCena:ukupnoCena\r\n            })\r\n        })\r\n    }\r\n\r\n    handleChange(event){\r\n        const {name,value} = event.target\r\n        this.setState({\r\n            [name]:value\r\n        })\r\n    }\r\n\r\n    handleChangeSort(){\r\n        const config={\r\n            headers: new Headers({'Authorization': 'Bearer ' + localStorage.getItem('jwt')},\r\n                                  {'Access-Control-Allow-Methods':'GET'}),\r\n          };\r\n        \r\n        const vremeOd=this.state.pocetak === \"\" ? \"null\":this.state.pocetak;\r\n        const vremeDo=this.state.kraj === \"\" ? \"null\":this.state.kraj;\r\n        const sort=$('#idSortIzvestaji').val() === \"\" ? \"null\":$('#idSortIzvestaji').val();\r\n\r\n        fetch('http://localhost:8080/bioskop/izvestaji/'+vremeOd+\"/\"+vremeDo+\"/\"+sort,config)\r\n        .then(res => res.json())\r\n        .then(res => {\r\n            console.log(res)\r\n            var ukupnoProjekcija=0;\r\n            var ukupnoKarata=0;\r\n            var ukupnoCena=0;\r\n            res.map(i => {\r\n                ukupnoProjekcija = i.brojProjekcija+ukupnoProjekcija\r\n                ukupnoKarata = i.brojProdatihKarata+ukupnoKarata\r\n                ukupnoCena = i.ukupnaCena+ukupnoCena\r\n                \r\n            })\r\n            this.setState({\r\n                izvestaji: res,\r\n                ukupnoProjekcija:ukupnoProjekcija,\r\n                ukupnoKarata:ukupnoKarata,\r\n                ukupnoCena:ukupnoCena\r\n            })\r\n        })\r\n    }\r\n\r\n    render(){\r\n        const prikazIzvestaja = this.state.izvestaji.length > 0 && <PrikazIzvestaja state={this.state} />\r\n        return(\r\n            <div id=\"izvestaji\">\r\n                <ZaglavljeIzvestaja handleChange={this.handleChange} handleClick={this.handleClick} />\r\n                <label>\r\n                        Sortiraj po:\r\n                            <select id=\"idSortIzvestaji\" onChange={this.handleChangeSort}>\r\n                                <option value=\"\"></option>\r\n                                <option value=\"brProjekcija-asc\">Broju projekcija, rastuce</option>\r\n                                <option value=\"brProjekcija-desc\">Broju projekcija, opadajuce</option>\r\n                                <option value=\"brProdatihKarata-asc\">Broju prodatih karata, rastuce</option>\r\n                                <option value=\"brProdatihKarata-desc\">Broju prodatih karata, opadajuce</option>\r\n                                <option value=\"ukupnaCenaProdatihKarata-asc\">Ukupnoj ceni, rastuce</option>\r\n                                <option value=\"ukupnaCenaProdatihKarata-desc\">Ukupnoj ceni, opadajuce</option>\r\n                            </select>\r\n                    </label>\r\n                {prikazIzvestaja}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Izvestaji"]},"metadata":{},"sourceType":"module"}